<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Miniproject</title>
</head>
<body>
    <script>
        let count = 0 ;
        let account ;
        let password ;
        while (count < 3) {
            account = prompt("Nhập tài khoản");
            password = +prompt("Nhập mật khẩu");
            if (account === "admin" && password === 12345) {
                alert("Đăng nhập thành công");
                break ;
            } else if (account !== "admin") {
                alert("Nhập sai tên đăng nhập");
                count++;
            } else if (password !== 12345) {
                alert("Nhập sai mật khẩu");
                count++;
            }
            if (count === 3) {
                alert("Tài khoản đã bị khóa");
                break ;
            } 
        }
        let choice;
        let libraries = ["Toán", "Văn", "Anh"];
    do {
        choice = +prompt(`
            ====QUẢN LÝ THƯ VIỆN 4.0====
            1. Nhập thêm lô sách mới
            2. Hiển thị danh sách sách
            3. Tìm kiếm sách
            4. Cập nhật tên sách
            5. Đảo ngược danh sách
            6. Nhập kho từ nguồn khác
            7. Thoát chương trình.
            Nhập lựa chọn của bạn:
                `);
            while(choice === ""|| choice === null||isNaN(choice)) {
                alert(`Lựa chọn không hợp lệ.`);
                choice=+prompt(`Nhập lại lựa chọn của bạn`);
            }
            switch (choice) {
                case 1:
                    let book = prompt(`Nhập tên các cuốn sách(Cách nhau bới dấu ",")`);
                    if (book) {
                        let newBook=book.split(",");
                        libraries=libraries.concat(newBook);
                    }
                    break;
                case 2:
                    if (libraries.length === 0) {
                        alert(`Mảng rỗng!`)
                    } else{
                        for(let i = 0; i < libraries.length; i++)
                            console.log(`${i+1}. ${libraries[i]}`);
                    }
                    break;
                case 3:
                    let searchNameBook = prompt(`Nhập tên sách cần tìm`);
                    let foundIndex = libraries.indexOf(searchNameBook);
                    if(foundIndex !== -1){
                        console.log(`Sách "${searchNameBook}" được tìm tại vị trí ${foundIndex}`);
                    } else {
                        console.log(`Không tìm thấy sách "${searchNameBook} trong kho."`);  
                    }
                    break;
                case 4:
                    let oldName = prompt(`Nhập tên sách cũ cần sửa`);
                    let indexUpdate = libraries.indexOf(oldName);
                    if(indexUpdate !== -1) {
                        let newNameBook = prompt(`Tên sách mới`);
                        while (newNameBook === ""|| newNameBook === null) {
                            alert(`Tên sách không được để trống`);
                            newNameBook=prompt(`Nhập lại tên sách`);
                        }
                        if(newNameBook) {
                            libraries[indexUpdate] = newNameBook;
                            alert(`Cập nhật thành công`);
                        } else{
                            alert(`Không tìm thấy sách${oldName}`);
                        }                       
                    }
                    break;
                case 5:
                    libraries.reverse();
                    for (let i = 0; i < libraries.length; i++) {
                        console.log(`${i+1}. ${libraries[i]}`);
                    }
                    break;
                case 6:
                    let branchBooks = ["Sách Kỹ Năng", "Truyện Tranh", "Tạp Chí"];
                    libraries = libraries.concat(branchBooks);
                    break;
                case 7:
                    alert("Thoát chương trình");
                    break;
                default:
                    alert("Lựa chọn không hợp lệ, vui lòng nhập lại!");
            }
        } while (choice !== 7);
            </script>
        </body>
        </html>